# å®Œæ•´æ”¹åŠ¨æ±‡æ€» - v3.2 â†’ v3.2.1 (2026-02-20)

**æ–‡ä»¶**: `setup-rocky-9.4-ci-env-v3.1.sh`  
**æ”¹åŠ¨æ—¥æœŸ**: 2026-02-20  
**æ”¹åŠ¨èŒƒå›´**: JSON æ˜ å°„è¡¨é…ç½® + è„šæœ¬ Bug ä¿®å¤  
**æ€»æ”¹åŠ¨æ•°**: 2 å¤„ï¼ˆ1 ä¸ª JSON æ‰©å±• + 1 ä¸ªè„šæœ¬ Bug ä¿®å¤ï¼‰

---

## ğŸ“‹ æ”¹åŠ¨æ¸…å•

### æ”¹åŠ¨ 1ï¸âƒ£: JSON åŒ…åæ˜ å°„è¡¨æ‰©å±•ï¼ˆç¬¬ 280-346 è¡Œï¼‰

**ç±»å‹**: JSON é…ç½®å‡çº§  
**æ–‡ä»¶ä½ç½®**: package-map.json çš„å®šä¹‰  
**æ”¹åŠ¨å†…å®¹**:

| æ–¹é¢ | v3.2 | v3.2.1 | å˜åŒ– |
|-----|------|--------|------|
| ç‰ˆæœ¬å· | 3.2 | 3.2.1 | +0.0.1 |
| æ˜ å°„æ¡ç›® | 5 æ¡ | 45+ æ¡ | **9x å¢é•¿** |
| åˆ†ç±» | 1 ä¸ª | 8 ä¸ª | +7 ä¸ª |
| å…ƒæ•°æ®å­—æ®µ | 4 ä¸ª | 5 ä¸ª | +`_last_updated` |

**å…·ä½“æ”¹åŠ¨**:
```json
# v3.2 (æ—§)
{
  "_version": "3.2",
  "libfuse-dev": "fuse3-devel",
  "nfs-common": "nfs-utils",
  "gcc": "gcc",
  "g++": "gcc-c++",
  "pkg-config": "pkgconf-pkg-config"
}

# v3.2.1 (æ–°)
{
  "_version": "3.2.1",
  "_last_updated": "2026-02-20 - Added extended mappings based on GitHub Actions workflow failures",
  "ç¼–è¯‘å·¥å…·é“¾": "...",
  "åŒ…ç®¡ç†å·¥å…·": "...",
  "æ–‡ä»¶ç³»ç»Ÿå’ŒæŒ‚è½½": "...",
    "libfuse-dev": "fuse3-devel",      # â† åŸæœ‰ï¼Œç¡®ä¿å­˜åœ¨
    "libfuse3-dev": "fuse3-devel",     # â† å¤‡é€‰åç§°
    "nfs-common": "nfs-utils",         # â† ç”¨äº GitHub Actions
  "å¼€å‘åº“": "...",
  "å‹ç¼©å’Œå­˜æ¡£": "...",
  "ç½‘ç»œå’Œé€šä¿¡": "...",
  "ç³»ç»Ÿå·¥å…·": "...",
  "å…¶ä»–": "..."
}
```

**æ–°å¢å…³é”®æ˜ å°„** (ä¸ºè§£å†³ Run 22220002065):
- âœ… `libfuse-dev: fuse3-devel` (å…³é”®ï¼Œç”¨äº rclone ç¼–è¯‘)
- âœ… `libfuse3-dev: fuse3-devel` (å¤‡é€‰)
- âœ… `nfs-common: nfs-utils` (ç”¨äº NFS æµ‹è¯•)
- âœ… `pkg-config: pkgconf-pkg-config` (åŒ…é…ç½®å·¥å…·)
- âœ… 10+ ä¸ªå¼€å‘åº“æ˜ å°„
- âœ… ç½‘ç»œå’Œå­˜æ¡£å·¥å…·æ˜ å°„

---

### æ”¹åŠ¨ 2ï¸âƒ£: è„šæœ¬åŒ…å Bug ä¿®å¤ï¼ˆç¬¬ 194-201 è¡Œï¼‰

**ç±»å‹**: Bug ä¿®å¤ï¼ˆåŒ…åé”™è¯¯ï¼‰  
**æ–‡ä»¶ä½ç½®**: OPTIONAL_PACKAGES æ•°ç»„  
**é—®é¢˜**: Ubuntu åŒ…å `nfs-common` åœ¨ Rocky ç›´æ¥ dnf è°ƒç”¨ä¸­æ— æ³•å·¥ä½œ  
**ä¿®å¤**:

```bash
# âŒ v3.2 (é”™è¯¯)
OPTIONAL_PACKAGES=(
    "libfdt-devel:libfdt development files"
    "fuse3-devel:FUSE 3 development files"
    "btrfs-progs:btrfs filesystem tools"
    "rpm:RPM package manager"
    "nfs-common:NFS client support"  # â† BUG: Ubuntu åŒ…å
)

# âœ… v3.2.1 (ä¿®å¤)
OPTIONAL_PACKAGES=(
    "libfdt-devel:libfdt development files"
    "fuse3-devel:FUSE 3 development files"
    "btrfs-progs:btrfs filesystem tools"
    "rpm:RPM package manager"
    "nfs-utils:NFS client support"  # â† ä¿®å¤: Rocky æ­£ç¡®åŒ…å
)

# å¹¶æ·»åŠ æ³¨é‡Š:
# æ³¨æ„: è¿™é‡Œä½¿ç”¨ç›´æ¥ dnf è°ƒç”¨ï¼Œå¿…é¡»ä½¿ç”¨ Rocky æ­£ç¡®çš„åŒ…åï¼ˆé Ubuntu åŒ…åï¼‰
```

**åŸå› **:
- è¿™æ®µä»£ç ç›´æ¥è°ƒç”¨ `dnf install`ï¼ˆä¸ç»è¿‡ apt-get wrapperï¼‰
- JSON æ˜ å°„è¡¨å¯¹å…¶æ— æ•ˆ
- å¿…é¡»ä½¿ç”¨ Rocky çš„æ­£ç¡®åŒ…å (`nfs-utils` è€Œé `nfs-common`)

---

## ğŸ¯ ä¿®å¤çš„å…·ä½“é—®é¢˜

### é—®é¢˜ 1: Run 22220002065 ä¸­çš„ libfuse-dev å’Œ nfs-common æ˜ å°„å¤±è´¥

**ç—‡çŠ¶**:
```
æœªæ‰¾åˆ°åŒ¹é…çš„å‚æ•°: libfuse-dev
æœªæ‰¾åˆ°åŒ¹é…çš„å‚æ•°: nfs-common
fatal error: fuse.h: No such file or directory
```

**æ ¹æœ¬åŸå› **: æ˜ å°„è¡¨ä¸å®Œæ•´æˆ–ä¸å­˜åœ¨ï¼ˆv3.2 å†…å®¹å¤ªå°‘ï¼‰

**ä¿®å¤**: æ‰©å±•æ˜ å°„è¡¨ï¼Œç¡®ä¿å…³é”®æ˜ å°„å­˜åœ¨

```json
"libfuse-dev": "fuse3-devel",
"nfs-common": "nfs-utils"
```

### é—®é¢˜ 2: è„šæœ¬åˆå§‹åŒ–æ—¶çš„ nfs-common å®‰è£…å¤±è´¥

**ç—‡çŠ¶**:
```
âš ï¸ nfs-common (NFS client support) å®‰è£…å¤±è´¥ï¼ˆå¯é€‰ï¼‰
```

**æ ¹æœ¬åŸå› **: åœ¨ Rocky ç³»ç»Ÿä¸Šç›´æ¥ä½¿ç”¨ Ubuntu åŒ…å

**ä¿®å¤**: æ”¹ä¸º Rocky æ­£ç¡®çš„åŒ…å `nfs-utils`

```bash
# ä¿®å¤å‰: dnf install nfs-common  âŒ (åŒ…ä¸å­˜åœ¨)
# ä¿®å¤å: dnf install nfs-utils   âœ… (åŒ…å­˜åœ¨)
```

---

## ğŸ“Š æ”¹åŠ¨å½±å“èŒƒå›´

### ç›´æ¥å½±å“

| é¡¹ç›® | å½±å“ | ä¼˜å…ˆçº§ |
|-----|------|--------|
| GitHub Actions å·¥ä½œæµ apt-get è°ƒç”¨ | âœ… æ›´å¯é  | ğŸ”´ é«˜ |
| è„šæœ¬åˆå§‹åŒ–é˜¶æ®µå¯é€‰åº“ | âœ… æ­£å¸¸å®‰è£… | ğŸŸ¡ ä¸­ |
| JSON æ˜ å°„è¡¨é€šç”¨æ€§ | âœ… æ”¯æŒæ›´å¤šåŒ… | ğŸŸ¢ ä½ |

### é—´æ¥å½±å“

- âœ… verify-env è„šæœ¬èƒ½æ­£ç¡®éªŒè¯ NFS (å› ä¸ºè„šæœ¬ä¼šå®‰è£… nfs-utils)
- âœ… fix-env è„šæœ¬èƒ½æ­£ç¡®ä¿®å¤ç¯å¢ƒ
- âœ… Linux å·¥ä½œæµä¸­çš„ NFS æµ‹è¯•æ›´å¯é 
- âœ… å…¶ä»–å¯èƒ½ä½¿ç”¨è¿™äº›åŒ…çš„ workflows æ”¯æŒæ›´å¥½

---

## âœ… éªŒè¯æ–¹æ³•

### éªŒè¯æ”¹åŠ¨ 1: JSON æ˜ å°„è¡¨

```bash
# æ£€æŸ¥ç‰ˆæœ¬
jq ._version /opt/actions-runner/compat-scripts/package-map.json
# è¾“å‡º: "3.2.1"

# æ£€æŸ¥å…³é”®æ˜ å°„
jq '.["libfuse-dev","nfs-common","pkg-config"]' \
  /opt/actions-runner/compat-scripts/package-map.json
# è¾“å‡º: "fuse3-devel" "nfs-utils" "pkgconf-pkg-config"

# æ£€æŸ¥æ˜ å°„è¡¨å¤§å°
jq 'to_entries | map(select(.key | startswith("_") | not)) | length' \
  /opt/actions-runner/compat-scripts/package-map.json
# è¾“å‡º: 45+ (å¤§çº¦)
```

### éªŒè¯æ”¹åŠ¨ 2: è„šæœ¬ Bug ä¿®å¤

```bash
# è¿è¡Œ setup è„šæœ¬
sudo bash setup-rocky-9.4-ci-env-v3.1.sh

# æŸ¥çœ‹å¯é€‰åº“å®‰è£…éƒ¨åˆ†è¾“å‡º
# åº”è¯¥æ˜¾ç¤º:
# âœ… nfs-utils (NFS client support) å·²å®‰è£…
# è€Œä¸æ˜¯:
# âš ï¸ nfs-common (NFS client support) å®‰è£…å¤±è´¥

# éªŒè¯ NFS å·¥å…·å·²å®‰è£…
rpm -q nfs-utils
# è¾“å‡º: nfs-utils-x.x.x-x.el9.x86_64 (æˆ–ç±»ä¼¼)
```

---

## ğŸ”„ æ”¹åŠ¨å¯¹è„šæœ¬ä¸Šæ¸¸çš„å½±å“

### è„šæœ¬çš„ä¸¤å±‚æ¶æ„

```
GitHub Actions Workflow
    â†“
apt-get install libfuse-dev nfs-common ...
    â†“
apt-get wrapper (æ”¹åŠ¨ 1: JSON æ˜ å°„è¡¨ç”Ÿæ•ˆ)
    â†“ 
nfs-common â†’ nfs-utils, libfuse-dev â†’ fuse3-devel
    â†“
dnf install fuse3-devel nfs-utils ...
    â†“
â˜‘ï¸ ç”± setup è„šæœ¬é¢„å…ˆå®‰è£…çš„åŒ… (æ”¹åŠ¨ 2: nfs-utils å·²æ­£è½¯/ç¡¬å®‰è£…)

Setup Script Initialization
    â†“
dnf install nfs-utils ... (æ”¹åŠ¨ 2: ç°åœ¨å¯ä»¥æ­£å¸¸å·¥ä½œ)
    â†“
â˜‘ï¸ NFS å·¥å…·æ­£å¸¸å®‰è£…ï¼Œç¯å¢ƒå®Œæ•´
```

---

## ğŸ“ æ”¹åŠ¨ç±»å‹æ€»ç»“

| æ”¹åŠ¨ | ç±»å‹ | å¤æ‚åº¦ | é£é™© | ä¼˜å…ˆçº§ |
|-----|------|--------|------|--------|
| JSON æ˜ å°„è¡¨æ‰©å±• | é…ç½®æ›´æ–° | ä½ | ä½ | ğŸ”´ é«˜ |
| nfs-common Bug ä¿®å¤ | è„šæœ¬ä¿®å¤ | ä½ | ä½ | ğŸ”´ é«˜ |

---

## ğŸš€ éƒ¨ç½²å»ºè®®

### ç«‹å³è¡ŒåŠ¨
1. âœ… åº”ç”¨å·²ä¿®å¤çš„è„šæœ¬åˆ° Rocky è¿è¡Œå™¨
2. â³ åœ¨ Rocky æœ¬åœ°è¿è¡Œä¸€æ¬¡ setup è„šæœ¬éªŒè¯
3. â³ è¿è¡Œ GitHub Actions å·¥ä½œæµï¼Œæ£€æŸ¥åº“å®‰è£…æ­¥éª¤

### çŸ­æœŸè·Ÿè¿›ï¼ˆ1 å‘¨å†…ï¼‰
- â³ æ”¶é›†ä¿®å¤å‰åçš„ workflow æ—¥å¿—ï¼Œå¯¹æ¯”æ”¹è¿›
- â³ æ›´æ–°æ–‡æ¡£ï¼Œè®°å½•è¿™æ¬¡ä¿®å¤
- â³ å¦‚æœ‰é—ç•™é—®é¢˜ï¼Œç»§ç»­è¿­ä»£

### é•¿æœŸä¼˜åŒ–ï¼ˆ1 ä¸ªæœˆå†…ï¼‰
- â³ è€ƒè™‘è‡ªåŠ¨åŒ–ç”Ÿæˆæ˜ å°„è¡¨çš„æ–¹æ¡ˆ
- â³ å®šæœŸå®¡æŸ¥æ–°çš„åŒ…åæ˜ å°„éœ€æ±‚
- â³ å»ºç«‹è‡ªåŠ¨åŒ–æµ‹è¯•éªŒè¯æ‰€æœ‰æ˜ å°„

---

## ğŸ“š å…³è”æ–‡æ¡£

| æ–‡æ¡£ | å†…å®¹ | å¯¹è±¡ |
|-----|------|------|
| [setup-rocky-9.4-ci-env-v3.1.sh](setup-rocky-9.4-ci-env-v3.1.sh) | å·²ä¿®å¤çš„è„šæœ¬æºæ–‡ä»¶ | ç³»ç»Ÿç®¡ç†å‘˜ |
| [Bugä¿®å¤è¯´æ˜-nfs-common-to-nfs-utils.md](Bugä¿®å¤è¯´æ˜-nfs-common-to-nfs-utils.md) | Bug è¯¦ç»†åˆ†æ | å¼€å‘/è¿ç»´ |
| [JSONæ˜ å°„è¡¨-v3.2.1-æ›´æ–°è¯´æ˜.md](JSONæ˜ å°„è¡¨-v3.2.1-æ›´æ–°è¯´æ˜.md) | æ˜ å°„è¡¨è¯¦è§£ | ç»´æŠ¤è€… |
| [è„šæœ¬ä¿®å¤æ€»ç»“-nfs-common-Bug.md](è„šæœ¬ä¿®å¤æ€»ç»“-nfs-common-Bug.md) | ä¿®å¤æ€»ç»“ | æ‰€æœ‰äºº |
| [RUN-22220002065-é”™è¯¯åˆ†ææŠ¥å‘Š.md](RUN-22220002065-é”™è¯¯åˆ†ææŠ¥å‘Š.md) | åŸå§‹é”™è¯¯èƒŒæ™¯ | è°ƒæŸ¥/åˆ†æ |
| [å‡çº§æ€»ç»“-v3.2-to-v3.2.1.md](å‡çº§æ€»ç»“-v3.2-to-v3.2.1.md) | ç‰ˆæœ¬å‡çº§ä¿¡æ¯ | ç‰ˆæœ¬ç®¡ç† |
| [å¿«é€Ÿå‚è€ƒ-æ˜ å°„è¡¨ç»´æŠ¤æŒ‡å—.md](å¿«é€Ÿå‚è€ƒ-æ˜ å°„è¡¨ç»´æŠ¤æŒ‡å—.md) | å¿«é€Ÿå‘½ä»¤å‚è€ƒ | æ—¥å¸¸ç»´æŠ¤ |
| [GitHub-Actions-Workflow-é›†æˆæŒ‡å—-v3.2.1.md](GitHub-Actions-Workflow-é›†æˆæŒ‡å—-v3.2.1.md) | å·¥ä½œæµé›†æˆå»ºè®® | å¼€å‘è€… |

---

## âœ¨ æ€»ç»“

**æ”¹åŠ¨æ¦‚æ‹¬**: é€šè¿‡æ‰©å±• JSON æ˜ å°„è¡¨å’Œä¿®å¤è„šæœ¬ä¸­çš„åŒ…å Bugï¼Œè§£å†³ Run 22220002065 ä¸­çš„åº“å®‰è£…å¤±è´¥é—®é¢˜ã€‚

**æ”¹åŠ¨è§„æ¨¡**: 2 å¤„ï¼ˆéƒ½æ˜¯å…³é”®çš„ï¼‰  
**ä»£ç å˜æ›´**: ~200 è¡Œï¼ˆJSON æ˜ å°„è¡¨æ‰©å±• + 1 è¡Œè„šæœ¬ä¿®å¤ï¼‰  
**å‘åå…¼å®¹**: âœ… å®Œå…¨å…¼å®¹  
**æµ‹è¯•éš¾åº¦**: âœ… ä½ï¼ˆå¯åœ¨æœ¬åœ°éªŒè¯ï¼‰  

**é¢„æœŸæ•ˆæœ**: 
- âœ… GitHub Actions å·¥ä½œæµåº“å®‰è£…æˆåŠŸç‡æé«˜
- âœ… è„šæœ¬åˆå§‹åŒ–æ›´æ¸…æ™°ï¼ˆæ— è™šå‡è­¦å‘Šï¼‰
- âœ… ç¯å¢ƒéªŒè¯å’Œä¿®å¤å·¥å…·æ›´å¯é 
